<ng-container *ngIf="mode === 'login'">
  <div class="login-page">
    <div class="login-box">
      <!-- /.login-logo -->
      <div class="card card-outline card-info">
        <div class="card-header text-center">
          <img src="/assets/Images/villagefund.png" width="100%">
        </div>
        <div class="card-body">

          <form [formGroup]="loginForm" class="form-signin text-center" (ngSubmit)="login()">
            <div class="input-group mb-3">
              <input type="text" formControlName="username" class="form-control" placeholder="เลขประจำตัวประชาชน"
                autofocus>
              <div class="input-group-append">
                <div class="input-group-text">
                  <span class="fas fa-user"></span>
                </div>
              </div>
            </div>

            <div class="input-group mb-3">
              <input type="password" formControlName="password" class="form-control" placeholder="รหัสผ่าน">
              <div class="input-group-append">
                <div class="input-group-text">
                  <span class="fas fa-lock"></span>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-12">
                <button *ngIf="!isLoading" type="submit" class="btn btn-info btn-block mb-3"><i class="fas fa-lock"></i>
                  เข้าสู่ระบบ</button>
                <button *ngIf="isLoading" class="btn btn-info btn-block" type="button" disabled>
                  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                  กรุณารอสักครู่...
                </button>
                <a *ngIf="!isLoading" (click)="changeMode()" class="mb-3 second-btn"><i class="fas fa-user"></i>
                  ลงทะเบียน</a>
              </div>
              <!-- /.col -->
            </div>
          </form>

        </div>
        <!-- /.card-body -->
      </div>
      <!-- /.card -->
      <div class="row mt-5">
        <div class="col-md-12 text-center text-gray">
          © 2022 Copyright National Village and Urban Community Fund Office.
        </div>
      </div>
    </div>
    <!-- /.login-box -->
  </div>
</ng-container>

<ng-container *ngIf="mode === 'register'">
  <div class="content-wrapper">
    <div class="content-header">
      <div class="container">
        <!-- /.Register-box -->
        <div *ngIf="mode === 'register'" class="register-block">
          <!-- /.login-logo -->
          <div class="card card-outline card-info">
            <div class="card-header text-center">
              <img src="/assets/Images/villagefund.png" width="100%">
            </div>
            <div class="card-body register">
              <h1 class="text-center">ลงทะเบียนเข้าสู่ระบบ</h1>

              <form [formGroup]="registerForm" class="form-signin" (ngSubmit)="register()">
                <div class="row my-4 mb-3 justify-content-center">
                  <div class="col-md-4">
                    <mat-form-field appearance="fill">
                      <mat-label>เลขประจำตัวประชาชน</mat-label>
                      <input matInput formControlName="perId" type="text" autocomplete="off" required />
                      <mat-error *ngIf="registerForm.get('perId')!.hasError('required')">
                        กรุณากรอกเลขประจำตัวประชาชน 13 หลัก</mat-error>
                      <mat-error *ngIf="registerForm.get('perId')!.hasError('minLength')">
                        กรุณากรอกเลขประจำตัวประชาชน 13 หลัก</mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-md-4">
                    <mat-form-field appearance="fill">
                      <mat-label>รหัสผ่าน</mat-label>
                      <input matInput formControlName="confirmPassword" type="password" autocomplete="off" required />
                      <mat-error *ngIf="registerForm.get('confirmPassword')!.hasError('required')">
                        กรุณากรอกรหัสผ่านอย่างน้อย 8 ตัวอักษร</mat-error>
                      <mat-error *ngIf="registerForm.get('confirmPassword')!.hasError('minLength')">
                        กรุณากรอกรหัสผ่านอย่างน้อย 8 ตัวอักษร</mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-md-4">
                    <mat-form-field appearance="fill">
                      <mat-label>ยืนยันรหัสผ่าน</mat-label>
                      <input matInput formControlName="password" type="password" autocomplete="off" required />
                      <mat-error *ngIf="registerForm.get('password')!.hasError('required')">
                        กรุณากรอกรหัสผ่านอย่างน้อย 8 ตัวอักษร</mat-error>
                      <mat-error *ngIf="registerForm.get('password')!.hasError('minLength')">
                        กรุณากรอกรหัสผ่านอย่างน้อย 8 ตัวอักษร</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="row mb-3 justify-content-center">
                  <div class="col-md-4">
                    <mat-form-field appearance="fill">
                      <mat-label>คำนำหน้าชื่อ</mat-label>
                      <input matInput formControlName="prefixName" type="text" autocomplete="off" required />
                      <mat-error *ngIf="registerForm.get('prefixName')!.hasError('required')">
                        กรุณากรอกคำนำหน้าชื่อ</mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-md-4">
                    <mat-form-field appearance="fill">
                      <mat-label>ชื่อ</mat-label>
                      <input matInput formControlName="firstName" type="text" autocomplete="off" required />
                      <mat-error *ngIf="registerForm.get('firstName')!.hasError('required')">
                        กรุณากรอกชื่อ</mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-md-4">
                    <mat-form-field appearance="fill">
                      <mat-label>นามสกุล</mat-label>
                      <input matInput formControlName="lastName" type="text" autocomplete="off" required />
                      <mat-error *ngIf="registerForm.get('lastName')!.hasError('required')">
                        กรุณากรอกนามสกุล</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <hr />
                <h3><i class="fa fa-home"></i> ที่อยู่ตามทะเบียนบ้าน</h3>
                <div class="row mb-3">
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>เลขที่</mat-label>
                      <input matInput formControlName="addressHouse" type="text" autocomplete="off" required />
                      <mat-error *ngIf="registerForm.get('addressHouse')!.hasError('required')">
                        กรุณากรอกบ้านเลขที่</mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>หมู่ที่</mat-label>
                      <input matInput formControlName="mooHouse" type="text" autocomplete="off" required />
                      <mat-error *ngIf="registerForm.get('mooHouse')!.hasError('required')">
                        กรุณากรอกหมู่ที่</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>ตรอก/ซอย</mat-label>
                      <input matInput formControlName="soiHouse" type="text" autocomplete="off" />
                    </mat-form-field>
                  </div>

                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>ถนน</mat-label>
                      <input matInput formControlName="roadHouse" type="text" autocomplete="off" />
                      <mat-error *ngIf="registerForm.get('roadHouse')!.hasError('required')">
                        กรุณากรอกถนน</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="row mb-3">
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>ตำบล</mat-label>
                      <input matInput formControlName="districtHouse" type="text" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('districtHouse')!.hasError('required')">
                        กรุณากรอกตำบล</mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>อำเภอ</mat-label>
                      <input matInput formControlName="amphurHouse" type="text" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('amphurHouse')!.hasError('required')">
                        กรุณากรอกอำเภอ</mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>จังหวัด</mat-label>
                      <input matInput formControlName="provinceHouse" type="text" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('provinceHouse')!.hasError('required')">
                        กรุณากรอกจังหวัด</mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>รหัสไปรษณีย์</mat-label>
                      <input matInput formControlName="zipCodeHouse" type="text" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('zipCodeHouse')!.hasError('required')">
                        กรุณากรอกรหัสไปรษณีย์</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <hr />
                <h3><i class="fa fa-home"></i> ที่อยู่ที่สามารถติดต่อได้</h3>
                <div class="row mb-3">
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>เลขที่</mat-label>
                      <input matInput formControlName="addressContact" type="text" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('addressContact')!.hasError('required')">
                        กรุณากรอกบ้านเลขที่</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>หมู่ที่</mat-label>
                      <input matInput formControlName="mooContact" type="text" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('mooContact')!.hasError('required')">
                        กรุณากรอกหมู่ที่</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>ซอย</mat-label>
                      <input matInput formControlName="soiContact" type="text" autocomplete="off" />
                      <mat-error *ngIf="registerForm.get('soiContact')!.hasError('required')">
                        กรุณากรอกซอย</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>ถนน</mat-label>
                      <input matInput formControlName="roadContact" type="text" autocomplete="off" />
                      <mat-error *ngIf="registerForm.get('roadContact')!.hasError('required')">
                        กรุณากรอกถนน</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="row mb-3">
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>ตำบล</mat-label>
                      <input matInput formControlName="districtContact" type="text" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('districtContact')!.hasError('required')">
                        กรุณากรอกตำบล</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>อำเภอ</mat-label>
                      <input matInput formControlName="amphurContact" type="text" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('amphurContact')!.hasError('required')">
                        กรุณากรอกอำเภอ</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>จังหวัด</mat-label>
                      <input matInput formControlName="provinceContact" type="text" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('provinceContact')!.hasError('required')">
                        กรุณากรอกจังหวัด</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>รหัสไปรษณีย์</mat-label>
                      <input matInput formControlName="zipCodeContact" type="text" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('zipCodeContact')!.hasError('required')">
                        กรุณากรอกรหัสไปรษณีย์</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="row mb-3">
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>โทรศัพท์บ้าน</mat-label>
                      <input matInput formControlName="phoneNumber" type="text" autocomplete="off" />
                      <mat-error *ngIf="registerForm.get('phoneNumber')!.hasError('required')">
                        กรุณากรอกโทรศัพท์บ้าน</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>โทรศัพท์เคลื่อนที่</mat-label>
                      <input matInput formControlName="mobileNumber" type="text" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('mobileNumber')!.hasError('required')">
                        กรุณากรอกโทรศัพท์เคลื่อนที่</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>Email</mat-label>
                      <input matInput formControlName="email" type="email" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('email')!.hasError('required')">
                        กรุณากรอก email</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>วุฒิการศึกษา</mat-label>
                      <input matInput formControlName="educateDegree" type="text" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('educateDegree')!.hasError('required')">
                        กรุณากรอกวุฒิการศึกษา</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="row mb-3">
                  <div class="col-md-6">
                    <mat-form-field appearance="fill">
                      <mat-label>อาชีพปัจจุบัน</mat-label>
                      <input matInput formControlName="occupation" type="text" autocomplete="off" required/>
                      <mat-error *ngIf="registerForm.get('occupation')!.hasError('required')">
                        กรุณากรอกอาชีพปัจจุบัน</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-6">
                    <mat-form-field appearance="fill">
                      <mat-label>สถานที่ทำงาน</mat-label>
                      <input matInput formControlName="workPlace" type="text" autocomplete="off"/>
                      <mat-error *ngIf="registerForm.get('workPlace')!.hasError('required')">
                        กรุณากรอกสถานที่ทำงาน</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <hr />
                <h3><i class="fa fa-building"></i> ที่อยู่ที่ทำงาน</h3>
                <div class="row mb-3">
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>เลขที่</mat-label>
                      <input matInput formControlName="addressWork" type="text" autocomplete="off"/>
                      <mat-error *ngIf="registerForm.get('addressWork')!.hasError('required')">
                        กรุณากรอกบ้านเลขที่</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>หมู่ที่</mat-label>
                      <input matInput formControlName="mooWork" type="text" autocomplete="off"/>
                      <mat-error *ngIf="registerForm.get('mooWork')!.hasError('required')">
                        กรุณากรอกหมู่ที่</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>ซอย</mat-label>
                      <input matInput formControlName="soiWork" type="text" autocomplete="off" />
                      <mat-error *ngIf="registerForm.get('soiWork')!.hasError('required')">
                        กรุณากรอกซอย</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>ถนน</mat-label>
                      <input matInput formControlName="roadWork" type="text" autocomplete="off" />
                      <mat-error *ngIf="registerForm.get('roadWork')!.hasError('required')">
                        กรุณากรอกถนน</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="row mb-3">
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>ตำบล</mat-label>
                      <input matInput formControlName="districtWork" type="text" autocomplete="off"/>
                      <mat-error *ngIf="registerForm.get('districtWork')!.hasError('required')">
                        กรุณากรอกตำบล</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>อำเภอ</mat-label>
                      <input matInput formControlName="amphurWork" type="text" autocomplete="off"/>
                      <mat-error *ngIf="registerForm.get('amphurWork')!.hasError('required')">
                        กรุณากรอกอำเภอ</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>จังหวัด</mat-label>
                      <input matInput formControlName="provinceWork" type="text" autocomplete="off"/>
                      <mat-error *ngIf="registerForm.get('provinceWork')!.hasError('required')">
                        กรุณากรอกจังหวัด</mat-error>
                    </mat-form-field>
                  </div>
                  
                  <div class="col-md-3">
                    <mat-form-field appearance="fill">
                      <mat-label>รหัสไปรษณีย์</mat-label>
                      <input matInput formControlName="zipCodeWork" type="text" autocomplete="off"/>
                      <mat-error *ngIf="registerForm.get('zipCodeWork')!.hasError('required')">
                        กรุณากรอกรหัสไปรษณีย์</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="row mb-3">
                  <div class="col-md-6">
                    <mat-form-field appearance="fill">
                      <mat-label>โทรศัพท์ที่ทำงาน</mat-label>
                      <input matInput formControlName="phoneWork" type="text" autocomplete="off" />
                      <mat-error *ngIf="registerForm.get('phoneWork')!.hasError('required')">
                        กรุณากรอกโทรศัพท์ที่ทำงาน</mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-md-6">
                    <mat-form-field appearance="fill">
                      <mat-label>Email</mat-label>
                      <input matInput formControlName="emailWork" type="email" autocomplete="off"/>
                      <mat-error *ngIf="registerForm.get('emailWork')!.hasError('required')">
                        กรุณากรอก email</mat-error>
                    </mat-form-field>
                  </div>
                </div>

                <div class="row mb-3">
                  <div class="col-md-12">
                    ขอรับรองว่าข้าพเจ้ามีคุณสมบัติ ดังนี้
                  </div>
                </div>

                <div class="row mb-3">
                  <div class="col-md-12">
                    <mat-checkbox formControlName="majority">บรรลุนิติภาวะ</mat-checkbox>
                  </div>

                  <div class="col-md-12">
                    <mat-checkbox formControlName="domicile">มีภูมิลำเนาในประเทศไทย</mat-checkbox>
                  </div>

                  <div class="col-md-12">
                    <mat-checkbox formControlName="bankrupt">ไม่เป็นบุคคลล้มละลาย</mat-checkbox>
                  </div>

                  <div class="col-md-12">
                    <mat-checkbox formControlName="insane">ไม่เป็นคนวิกลจริตหรือจิตฟั่นเฟือนไม่สมประกอบ</mat-checkbox>
                  </div>

                  <div class="col-md-12">
                    <mat-checkbox formControlName="imprisonment">ไม่เคยต้องโทษจำคุกโดยคำพิพากษาถึงที่สุดให้จำคุกในความผิดเกี่ยวกับทรัพย์ที่กระทำโดยทุจริต</mat-checkbox>
                  </div>

                  <div class="col-md-12">
                    <mat-checkbox formControlName="revoke">ไม่เคยถูกเพิกถอนใบอนุญาตผู้ตรวจสอบบัญชีกองทุนหมู่บ้านในระยะเวลาห้าปีก่อนวันขอรับใบอนุญาต</mat-checkbox>
                  </div>

                  <div class="col-md-12">
                    <mat-checkbox formControlName="registration">ได้รับการขึ้นทะเบียนเป็นผู้ตรวจสอบบัญชีกองทุนหมู่บ้าน ตามประกาศคณะทำงานกำกับดูแลการตรวจสอบบัญชีกองทุนหมู่บ้านและชุมชนเมือง</mat-checkbox>
                  </div>
                </div>

                <div class="row justify-content-center">
                  <div class="col-8 text-center">
                    <button *ngIf="!isLoading" type="submit" class="btn btn-info mb-3">
                      <i class="fas fa-user"></i> ลงทะเบียน
                    </button>
                    <button *ngIf="isLoading" class="btn btn-info btn-block" type="button" disabled>
                      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                      กรุณารอสักครู่...
                    </button>
                    <br/>
                    <a *ngIf="!isLoading" (click)="changeMode()" class="mb-3 second-btn">
                      <i class="fas fa-lock"></i> เข้าสู่ระบบ
                    </a>
                  </div>
                  <!-- /.col -->
                </div>
              </form>

            </div>
            <!-- /.card-body -->
          </div>
          <!-- /.card -->
          <div class="row mt-5">
            <div class="col-md-12 text-center text-gray">
              © 2022 Copyright National Village and Urban Community Fund Office.
            </div>
          </div>
        </div>
        <!-- /.Register-box -->
      </div>
    </div>
  </div>
</ng-container>